pkgname=linux-xorg-libs
pkgver=2.0.1
pkgrel=1
pkgdesc='linux xorg libs'
url='http://www.archlinux.org/'
license=('GPL')
arch=('any')
depends=('linux-base' 'linux-expat' 'linux-fontconfig')
options=(!strip)
_pkglist=(
	libice		1.0.7-1-i686    2011/09/05 xz
	libfs		1.0.3-1-i686   2011/09/05 xz
	libsm		1.2.0-1-i686	2011/09/05 xz
	libx11		1.4.4-1-i686	2011/09/05 xz
	libxaw		1.0.9-1-i686	2011/09/05 xz
	libxcomposite	0.4.3-1-i686	2011/09/05 xz
	libxcursor	1.1.12-1-i686	2011/09/05 xz
	libxdamage	1.1.3-1-i686	2011/09/05 xz
	libxdmcp	1.1.0-1-i686	2011/09/05 xz
	libxevie	1.0.3-1-i686	2011/09/05 xz
	libxext		1.3.0-1-i686	2011/09/05 xz
	libxfixes	5.0-1-i686	2011/09/05 xz
	libxfont	1.4.4-1-i686	2011/09/05 xz
	libxft		2.2.0-1-i686	2011/09/05 xz
	libxi		1.4.3-1-i686	2011/09/05 xz
	libxinerama	1.1.1-1-i686	2011/09/05 xz
	libxmu		1.1.0-1-i686	2011/09/05 xz
	libxp		1.0.1-2-i686	2011/09/05 xz
	libxpm		3.5.9-1-i686	2011/09/05 xz
	libxrandr	1.3.2-1-i686	2011/09/05 xz
	libxrender	0.9.6-1-i686	2011/09/05 xz
	libxres		1.0.5-1-i686	2011/09/05 xz
	libxt		1.1.1-1-i686	2011/09/05 xz
	libxslt		1.1.26-2-i686	2011/09/05 xz
	libxv		1.0.6-1-i686	2011/09/05 xz
	libxvmc		1.0.6-1-i686	2011/09/05 xz
	libxxf86dga	1.1.2-1-i686	2011/09/05 xz
	libxxf86vm	1.1.1-1-i686	2011/09/05 xz
	libfontenc	1.1.0-1-i686	2011/09/05 xz
	libxcb		1.7-2-i686	2011/09/05 xz
	xcb-util	0.3.6-1-i686	2011/09/05 gz
	libxkbfile	1.0.7-1-i686	2011/09/05 xz
	libdrm		2.4.26-1-i686	2011/09/05 xz
)
source=()
i=0
cnt=${#_pkglist[@]}
while [ $i -lt $cnt ]; do
	source=("${source[@]}"
		http://arm.konnichi.com/${_pkglist[$[i+2]]}/extra/os/i686/${_pkglist[$i]}-${_pkglist[$[i+1]]}.pkg.tar.${_pkglist[$[i+3]]}
	)
	i=$[i+4]
done
source=("${source[@]}")
md5sums=('8d0debb352066b96638fb08bbcc007b6'
         'f6e1b37ab047d3e80f265c899c5b6179'
         '5a854db33a43ca755bb4634b4306a2d7'
         '9da8ddd482965e2ea34109a2bffaa09a'
         '5f52e83cd5a9d578019b8030f3034c1d'
         'ee965d9a06cdb7c1a9bec72f1086915a'
         'abdc6d5e0eb6c6bab8cac7408a5d6ab8'
         'a18118ebc42ef34036054f105e42ee0d'
         '379948378b69cc1238de295c5d34005b'
         'd3cbf4de59b78476dd450bdcecb03466'
         '13319a2f154eb2ffa48e0834f6476def'
         'b6cd7cab2202d2355caaec71050862c8'
         '9963f439aac5cac0552f700a7ee59e25'
         'cfe7d35943e5c98f9d56dee9bc3a40be'
         '0bcb6764177c143c441bed519dab459c'
         '8549e47fa12253b8be0f2feb5e3d03df'
         '4f2e4108caf9da2fa1a430c642f05268'
         '638eb7a561d3c168d1a697d7d410ac94'
         '55672ca2c00670f3c588a0509f5dba71'
         '99762dd26cc84767906a0e4c604ab108'
         '6c401a3e099999352c285191e7835086'
         '9818ecd2ee2af4d3a4f1732cda77acce'
         '26a34c9b76b2866f348c948b63268a1b'
         'e3964bda7a1010b5b1740c21455da266'
         'cce73c53c594fe08077b32c763fece37'
         '51145dffe1aa74de2c023e2ed6740d16'
         'c0f236d81659198ddacb1d69f6e210f3'
         '81acf4a721c6efac0548f0075142044f'
         '0799817973474033c0b91393b21550fe'
         '8127a469b0358cd911ee6bbcc44256dd'
         '4bfca93cee96f5b825f8eb4e82c395b9'
         '0b9c4e6bcee0503ba5709daa7ac6f378'
         'dd61dc7d5296707195a6d8132a89a110')

package() {
	install -dm755 "${pkgdir}/compat/linux"
	cp -Ra "${srcdir}/usr" "${pkgdir}/compat/linux"
        cp -Ra "${srcdir}/etc" "${pkgdir}/compat/linux"

    find ${srcdir} \
         -type f -print0 | xargs -0 file \
        | grep ELF | cut -d : -f 1 \
        | xargs brandelf -t Linux
}
